# Dossier M3

<hr>

## Inhaltsverzeichnis

1. [Ergebnisse](#uergebnisseu)
2. [Notizen](#unotizenu)

<hr>

### <u>Ergebnisse</u>

#### Aufgabe 11
Wir haben uns für die Nutzung von Laravel Reverb (server) in Kombination mit Echo.js (client) 
entschieden. Die Installation und Konfiguration von Laravel Reverb hat schwierigkeiten bereitet,
da die Dokumentation nicht sehr ausführlich ist. Nach einigen Versuchen haben wir es jedoch geschafft.

Folgende Pitfalls sind uns aufgefallen:
- Im Broadcast-Event muss die Methode `broadcastOn` implementiert werden, da sonst der Event nicht
  korrekt an die Websockets gesendet wird.
- Die Migrationen für die jobs und cache Tabelle müssen angelegt und ausgeführt werden, da sonst
  die Websockets nicht korrekt funktionieren.
- `php artisan queue:work` muss im Hintergrund laufen, da sonst die Websockets in der Warteschlange
  hängen bleiben.

Um eine Wartungsnachricht zu verschicken, muss folgender Befehl in der Konsole ausgeführt werden:
```bash
php artisan broadcast-maintenance-message "<Nachricht>"
```
Oder über Tinker:
```bash
php artisan tinker
```
`> broadcast(new App\Events\MaintenanceMessageUpdated('<Nachricht>'));`

<hr>

### <u>Notizen</u>

- 

<hr>
